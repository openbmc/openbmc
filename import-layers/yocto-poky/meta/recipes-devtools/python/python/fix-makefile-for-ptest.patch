Add 'build-test' and 'runtest-TESTS' targets to Makefile, to build and run tests
cross-compiled.

Signed-off-by: Tudor Florea <tudor.florea@enea.com>
Upstream-Status: Pending
---
diff -ruN a/Makefile.pre.in b/Makefile.pre.in
--- a/Makefile.pre.in	2013-06-27 10:44:11.033840532 +0200
+++ b/Makefile.pre.in	2013-06-27 10:44:39.572635273 +0200
@@ -709,14 +709,19 @@
 # generated bytecode.  This is sometimes a very shy bug needing a lot of
 # sample data.
 
-TESTOPTS=	-l $(EXTRATESTOPTS)
+TESTOPTS=	-l -v $(EXTRATESTOPTS)
 TESTPROG=	$(srcdir)/Lib/test/regrtest.py
-TESTPYTHON=	$(RUNSHARED) ./$(BUILDPYTHON) -Wd -3 -E -tt $(TESTPYTHONOPTS)
-test:		all platform
-		-find $(srcdir)/Lib -name '*.py[co]' -print | xargs rm -f
+TESTPYTHON=	$(RUNSHARED) $(BUILDPYTHON) -Wd -3 -E -tt $(TESTPYTHONOPTS)
+test:		build-test
+		$(MAKE) runtest-TESTS
+
+runtest-TESTS:
+		-find $(srcdir) -name '*.py[co]' -print | xargs rm -f
 		-$(TESTPYTHON) $(TESTPROG) $(TESTOPTS)
 		$(TESTPYTHON) $(TESTPROG) $(TESTOPTS)
 
+build-test:	all platform
+
 testall:	all platform
 		-find $(srcdir)/Lib -name '*.py[co]' -print | xargs rm -f
 		$(TESTPYTHON) $(srcdir)/Lib/compileall.py
